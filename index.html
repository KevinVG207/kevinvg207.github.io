<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Touhou Spotify Music</title>
    <meta name="author" content="KevinVG207, Kawaii_Shadowii"/>
    <meta name="description" content="Find the Touhou doujin music artists you are looking for easily on Spotify with Touhou Spotify Music!"/>
    <meta name="keywords" content="touhou,touhou spotify,doujin,dojin,spotify,music,東方,東方Project,サークル,thmusic,音楽,thmusicspotify,touhoumusicspotify,touhou project,thspotify,thspotifymusic,touhouspotifymusic,doujin music,doujin artists,doujin music artists,circles,doujin circles,doujin music circles,dojin music,dojin artists,dojin music artists,dojin circles,dojin music circles"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"/>
    <meta property="og:title" content="Touhou Spotify Music"/>
    <meta property="og:description" content="Find the Touhou doujin music artists you are looking for easily on Spotify with Touhou Spotify Music!"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.thspotify.moe/"/>
    <meta property="og:image" content="https://www.thspotify.moe/img/yinYang-green-opaque.png"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Touhou Spotify Music"/>
    <meta name="twitter:description" content="Find the Touhou doujin music artists you are looking for easily on Spotify with Touhou Spotify Music!"/>
    <meta name="twitter:image" content="https://www.thspotify.moe/img/yinYang-green-opaque.png"/>
    <link rel="stylesheet" href="style.css" type="text/css"/>
    <link rel="stylesheet" href="semantic.min.css" type="text/css"/>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
    <link rel="canonical" href="https://www.thspotify.moe/"/>
  </head>
  <body>
  <div class="ui fixed menu">
    <div class="ui container">
      <div class="item">
        <img class="logo" src="img/yinYang-green.svg" alt="Touhou Spotify Music" width="35" height="35">
      </div>
      <p class="header item">
        TH Spotify Music
      </p>
      <div class="right item">
        <div class="ui search" id="desktop-search">
          <div class="ui icon input">
            <input class="prompt searchbar" type="search" placeholder="Find an artist..." onkeyup="searchFilter()">
            <i class="search icon"></i>
          </div>
        </div>
        <a href="https://twitter.com/ThSpotify" target="_blank">
          <button class="ui twitter button desktopbutton" tabindex="-1">
            <i class="twitter icon"></i>
            Twitter
          </button>
          <button class="ui icon twitter button mobilebutton" tabindex="-1">
            <i class="twitter icon"></i>
          </button>
        </a>
        <a href="https://discord.gg/2jgEp4Uxmx" target="_blank">
          <button class="ui button desktopbutton" id="discord" tabindex="-1">
            <i class="discord icon"></i>
            Discord
          </button>
          <button class="ui icon button mobilebutton" id="discord" tabindex="-1">
            <i class="discord icon"></i>
          </button>
        </a>
      </div>
    </div>
    <div class="ui container" id="mobile-search">
      <div class="item">
        <div class="ui search nomargin">
          <div class="ui icon input">
            <input class="prompt searchbar" type="search" placeholder="Find an artist..." onkeyup="searchFilter()">
            <i class="search icon" id="mobile-search-icon"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="flexbox">
    <noscript>Your browser does not support JavaScript or JavaScript has been disabled.<br>This website relies on JavaScript, so please enable it or use another browser.</noscript>
  </div>
  <div class="ui inverted vertical footer segment">
    <div class="ui center aligned container">
      <div class="ui stackable inverted divided grid">
        <div class="five wide column">
          <div class="container">
            <h4 class="ui inverted header">Created by:</h4>
          </div>
          <div class="container">
            <a href="https://twitter.com/kevinvg207" target="_blank" tabindex="0" onfocus="focusFunction(event)" onmousedown="mouseDownFunction()" onmouseup="mouseUpFunction(event)">
              <button class="fluid ui twitter button twitterbutton" tabindex="-1">
                <i class="twitter icon"></i>
                KevinVG207
              </button>
            </a>
          </div>
          <div class="container">
            <a href="https://twitter.com/kawaii_shadowii" target="_blank" tabindex="0" onfocus="focusFunction(event)" onmousedown="mouseDownFunction()" onmouseup="mouseUpFunction(event)">
              <button class="fluid ui twitter button twitterbutton" tabindex="-1">
                <i class="twitter icon"></i>
                Kawaii_Shadowii
              </button>
            </a>
          </div>
        </div>
        <div class="eleven wide column">
          <h4 class="ui inverted header">Additional notes:</h4>
          <p>We try our best to keep this page updated, but we cannot guarantee that we included every artist.</p>
          <p>If you found an artist on Spotify that's not on the site or found a mistake,<br>please be sure to contact us or join our <a href="https://discord.gg/2jgEp4Uxmx" target="_blank" onfocus="focusFunction(event)" onmousedown="mouseDownFunction()" onmouseup="mouseUpFunction(event)">Discord server</a>.</p>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    var mouseDown = false;

    function searchFilter() {
      var input, filter, box, artist, a, i, txtValue;
      bars = document.getElementsByClassName("searchbar");
      filter = bars[0].value.toLowerCase() + bars[1].value.toLowerCase();
      box = document.getElementsByClassName("flexbox")[0];
      artist = box.getElementsByClassName("artist-container");
      for (i = 0; i < artist.length; i++) {
        textboxes = artist[i].getElementsByClassName("artist-name");
        txtValue = "";
        for (j = 0; j < textboxes.length; j++) {
          txtValue += textboxes[j].textContent;
        }
        if (txtValue.toLowerCase().indexOf(filter) > -1) {
          artist[i].style.display = "";
        } else {
          artist[i].style.display = "none";
        }
      }
    }

    function focusFunction(event) {
      if (!mouseDown) {
        artist_container = event.currentTarget.parentElement.parentElement.parentElement;
        artist_container.scrollIntoView(false);
      }
    }

    function mouseDownFunction() {
      mouseDown = true;
    }

    function mouseUpFunction(event) {
      link = event.currentTarget;
      link.blur();

      mouseDown = false;
    }

    async function autorun()
    {
      fb = document.getElementsByClassName("flexbox")[0];
      const response = await fetch('artists.json');
      const data = await response.json();
      data.forEach(entry => {
        cur_artist_container = document.createElement("div");
        cur_artist_container.setAttribute("class", "artist-container");

        cur_image_container = document.createElement("div");
        cur_image_container.setAttribute("class", "image-container");
        cur_artist_container.appendChild(cur_image_container);

        cur_artist_image = document.createElement("img");
        cur_artist_image.setAttribute("src", entry.img);
        cur_artist_image.setAttribute("srcset", `img/320/${entry.img} 320w, img/640/${entry.img} 640w`);
        cur_artist_image.setAttribute("sizes", "(max-width: 2000px) 320px, 640px");
        cur_artist_image.setAttribute("class", "artist-image");
        cur_artist_image.setAttribute("alt", entry.title);
        cur_artist_image.setAttribute("loading", "lazy");
        cur_image_container.appendChild(cur_artist_image);

        cur_middle = document.createElement("div");
        cur_middle.setAttribute("class", "middle");
        cur_image_container.appendChild(cur_middle);
        
        cur_link = document.createElement("a");
        cur_link.setAttribute("href", entry.link);
        cur_link.setAttribute("target", "_blank");
        cur_link.setAttribute("class", "button-text");
        cur_link.addEventListener("focus", focusFunction);
        cur_link.addEventListener("mousedown", mouseDownFunction);
        cur_link.addEventListener("mouseup", mouseUpFunction);
        cur_link.textContent = "Open Spotify";
        cur_middle.appendChild(cur_link);

        cur_artist_name = document.createElement("p");
        cur_artist_name.setAttribute("class", "artist-name");
        cur_artist_name.textContent = entry.title;
        cur_artist_container.appendChild(cur_artist_name);

        if (entry.hasOwnProperty("romanized")) {
          cur_artist_rom_name = document.createElement("p");
          cur_artist_rom_name.setAttribute("class", "artist-name romanized");
          cur_artist_rom_name.textContent = entry.romanized;
          cur_artist_container.appendChild(cur_artist_rom_name);
        }

        fb.appendChild(cur_artist_container)
      });
    }
    if (document.addEventListener) document.addEventListener("DOMContentLoaded", autorun, false);
    else if (document.attachEvent) document.attachEvent("onreadystatechange", autorun);
    else window.onload = autorun;
  </script>
  </body>
</html>